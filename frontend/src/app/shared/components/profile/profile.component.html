<div class="flex flex-col min-h-screen bg-[#F3F8FF]">
  <header class="sticky top-0 z-50 bg-white shadow">
    <app-topbar></app-topbar>
  </header>

  <main class="flex-grow py-8 px-4">
    <div class="max-w-4xl mx-auto">
      <button class="flex items-center text-blue-500 hover:text-blue-700 mb-6" (click)="goBack()">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M15 18l-6-6 6-6" />
        </svg>
        Back
      </button>

      <div class="bg-white rounded-2xl shadow-xl p-8 md:p-10 text-center">
        <!-- Upload Placeholder -->
        <div class="flex flex-col items-center space-y-2 mb-6">
          <div class="w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center">
            <svg class="w-7 h-7 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 5v14M5 12h14" />
            </svg>
          </div>
          <!-- <p class="text-blue-600 text-sm cursor-pointer hover:underline">Upload photo</p> -->
        </div>

        <!-- Profile Form -->
        <form *ngIf="user" class="space-y-5" (ngSubmit)="saveProfile()">
          <div>
            <label class="block text-left text-xs font-semibold text-gray-500 mb-1">NAME</label>
            <input [(ngModel)]="user.name" name="name" [readonly]="!editable"
              class="w-full p-3 rounded-xl bg-gray-100 outline-none" />
          </div>

          <div>
            <label class="block text-left text-xs font-semibold text-gray-500 mb-1">EMAIL</label>
            <input [(ngModel)]="user.email" name="email" type="email" [readonly]="true"
              class="w-full p-3 rounded-xl bg-gray-100 outline-none" />
          </div>

          <div>
            <label class="block text-left text-xs font-semibold text-gray-500 mb-1">CELLPHONE</label>
            <input [(ngModel)]="user.cellphone" name="cellphone" [readonly]="!editable"
              class="w-full p-3 rounded-xl bg-gray-100 outline-none" />
          </div>

          <div>
            <label class="block text-left text-xs font-semibold text-gray-500 mb-1">PAYPAL</label>
            <input [(ngModel)]="user.paypal" name="paypal" [readonly]="!editable"
              class="w-full p-3 rounded-xl bg-gray-100 outline-none" />
          </div>

          <p *ngIf="message" class="text-sm mt-2 text-center text-green-600"
            [ngClass]="{'text-red-500': message.includes('Failed')}">
            {{ message }}
          </p>

          <!-- Buttons -->
          <div class="mt-8 flex justify-end space-x-3">
            <button *ngIf="!editable" type="button"
              class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-xl transition"
              (click)="enableEdit()">
              Edit Profile Info
            </button>

            <button *ngIf="editable" type="submit"
              class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded-xl transition"
              [disabled]="saving">
              {{ saving ? 'Saving...' : 'Save Changes' }}
            </button>
          </div>
        </form>

      </div>
    </div>
  </main>

  <footer>
    <app-footer></app-footer>
  </footer>
</div>